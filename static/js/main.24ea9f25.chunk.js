(this["webpackJsonppersonal-page-generator"]=this["webpackJsonppersonal-page-generator"]||[]).push([[0],{27:function(e,t,a){},31:function(e,t,a){e.exports=a(51)},36:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),o=a.n(r),i=(a(36),a(2)),l=a(3),c=a(5),m=a(4),u="https://parser.zhoulindsay.com";var d="/personal-page-generator/";var h=localStorage.getItem("token");function p(e,t){return void 0===t&&(t={}),t.headers={Authorization:"JWT ".concat(h),"Content-Type":"application/json"},fetch(e,t)}function f(){localStorage.removeItem("token"),window.location.replace(d)}function E(e){window.location.reload(),localStorage.setItem("token",e),h=e}var g=a(16),b=a(12),v=a(17);a(42),a(43);b.b.add(v.b);var N=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onFileChange=function(e){n.setState({file:e.target.files[0]})},n.uploadResume=function(e){if(n.state.file){var t=new FormData;t.append("resume",n.state.file),n.setState({uploading:!0}),(a="".concat(u,"/upload"),s={method:"POST",body:t},void 0===s&&(s={}),s.hasOwnProperty("headers")?s.headers.Authorization="JWT ".concat(h):s.headers={Authorization:"JWT ".concat(h)},fetch(a,s)).then((function(e){return e.json()})).then((function(e){n.setState({uploading:!1}),p(u+"/profile",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return window.location.replace(d+"resume/"+e.id)}))})).catch((function(e){return console.log(e)}))}var a,s},n.state={file:null,uploading:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"upload view"},s.a.createElement("header",{className:"upload__header"},s.a.createElement(g.a,{icon:"user-circle",className:"rotating-logo"}),s.a.createElement("h1",null,"Personal Website Generator"),s.a.createElement("input",{className:"upload__input",type:"file",accept:"application/pdf",onChange:this.onFileChange}),this.state.file?"":s.a.createElement("p",{className:"normal-font"},"Please select a PDF of your resume."),s.a.createElement("button",{disabled:!this.state.file,className:"upload__button custom-button",type:"submit",onClick:this.uploadResume},this.state.uploading?"Uploading...":"Upload Resume")))}}]),a}(n.Component),y=(a(44),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeUsername=function(e){n.setState({username:e.target.value})},n.changePassword=function(e){n.setState({password:e.target.value})},n.changeFirstName=function(e){n.setState({firstname:e.target.value})},n.changeLastName=function(e){n.setState({lastname:e.target.value})},n.changeEmail=function(e){n.setState({email:e.target.value})},n.login=function(e){n.setState({failedLogin:!1}),n.state.username&&n.state.password?(n.setState({badLogin:!1}),fetch(u+"/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("access_token")?(E(e.access_token),n.setState({failedLogin:!1})):n.setState({failedLogin:!0})})).catch((function(e){return console.log(e)}))):n.setState({badLogin:!0})},n.register=function(e){n.setState({failedRegister:!1}),n.state.firstname&&n.state.lastname&&n.state.username&&n.state.password&&n.state.email?fetch(u+"/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password,firstname:n.state.firstname,lastname:n.state.lastname,email:n.state.email})}).then((function(e){fetch(u+"/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("access_token")?(E(e.access_token),n.setState({failedRegister:!1})):n.setState({failedRegister:!0})})).catch((function(e){console.log(e)}))})).catch((function(e){return console.log(e)})):n.setState({badRegister:!0})},n.state={badLogin:!1,badRegister:!1,failedLogin:!1,failedRegister:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"login-register view"},s.a.createElement("div",{className:"login half-gap shadow-box"},s.a.createElement("h1",null,"Login"),s.a.createElement("div",{className:"login-form"},s.a.createElement("div",{className:"edit-info__field margin-bottom-15"},s.a.createElement("label",{for:"username"},"User Name"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"username",onChange:this.changeUsername})),s.a.createElement("div",{className:"edit-info__field margin-bottom-15"},s.a.createElement("label",{for:"password"},"Password"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"email",onChange:this.changePassword})),s.a.createElement("button",{className:"custom-button",type:"submit",onClick:this.login},"Login"),s.a.createElement("p",{className:"red-text"},this.state.badLogin&&"Username and password cannot be empty."),s.a.createElement("p",{className:"red-text"},this.state.failedLogin&&"Incorrect username or password."))),s.a.createElement("div",{className:"register half-gap shadow-box"},s.a.createElement("h1",null,"Register"),s.a.createElement("div",{className:"login-form"},s.a.createElement("div",{className:"edit-info__field margin-bottom-15"},s.a.createElement("label",{for:"firstname"},"First Name"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"firstname",onChange:this.changeFirstName})),s.a.createElement("div",{className:"edit-info__field margin-bottom-15"},s.a.createElement("label",{for:"lastname"},"Last Name"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"lastname",onChange:this.changeLastName})),s.a.createElement("div",{className:"edit-info__field margin-bottom-15"},s.a.createElement("label",{for:"username"},"User Name"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"username",onChange:this.changeUsername})),s.a.createElement("div",{className:"edit-info__field margin-bottom-15"},s.a.createElement("label",{for:"password"},"Password"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"email",onChange:this.changePassword})),s.a.createElement("div",{className:"edit-info__field margin-bottom-15"},s.a.createElement("label",{for:"email"},"Email"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"email",onChange:this.changeEmail})),s.a.createElement("button",{className:"custom-button",type:"submit",onClick:this.register},"Register"),s.a.createElement("p",{className:"red-text"},this.state.badRegister&&"Cannot register with empty fields."),s.a.createElement("p",{className:"red-text"},this.state.failedRegister&&"Something went wrong with your registration."))))}}]),a}(n.Component)),_=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return h?s.a.createElement(N,null):s.a.createElement(y,null)}}]),a}(n.Component),O=a(20),w=a.n(O),j=a(29),k=a(18),S=a(6),C=(a(46),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"section-header"},"Summary"),s.a.createElement("div",null,this.props.expSummary))}}]),a}(n.Component)),P=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={links:[],emails:[],phones:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({links:this.props.links,emails:this.props.emails,phones:this.props.phones})}},{key:"render",value:function(){var e="";if(this.props.links||this.props.emails||this.props.phones){var t=[];this.state.links&&this.state.links.forEach((function(e){return t.push(e)}));var a=[];this.state.emails&&this.state.emails.forEach((function(e){return a.push(e)}));var n=[];this.state.phones&&this.state.phones.forEach((function(e){return n.push(e)})),e=s.a.createElement("div",{className:"contact section"},s.a.createElement("div",{className:"section-header"},"Contact Info"),s.a.createElement("div",{className:"contact-box shadow-box"},t.length>0&&s.a.createElement("div",null,s.a.createElement("b",null,"Links"),t.map((function(e){return s.a.createElement("div",{key:e.url},e.url)}))),a.length>0&&s.a.createElement("div",null,s.a.createElement("b",null,"Emails"),a.map((function(e){return s.a.createElement("div",{key:e.value},e.value)}))),n.length>0&&s.a.createElement("div",null,s.a.createElement("b",null,"Phone Numbers"),n.map((function(e){return s.a.createElement("div",{key:e.value},e.value)})))))}return e}}]),a}(n.Component);var x=function(e){return s.a.createElement("div",{className:"education-card shadow-box"},s.a.createElement("div",{className:"education-card__org"},s.a.createElement("b",null,e.school.org)),s.a.createElement("div",{className:"education-card__deg-gpa"},e.school.degree," ",e.school.field,"\xa0",e.school.gpa&&s.a.createElement("span",null,"| GPA: ",e.school.gpa),e.school.end&&s.a.createElement("div",null,["January","February","March","April","May","June","July","August","September","October","November","December"][e.school.end.month-1]," ",e.school.end.year)))},T=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={schools:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({schools:this.props.schools})}},{key:"render",value:function(){var e="";if(this.props.schools){var t=[];this.state.schools&&this.state.schools.forEach((function(e){return t.push(e)})),e=s.a.createElement("div",{className:"education section"},s.a.createElement("div",{className:"section-header"},"Education"),t.map((function(e){return s.a.createElement("div",{key:e.org+"_"+e.degree},s.a.createElement(x,{school:e}))})))}return e}}]),a}(n.Component);var D=function(e){var t,a=["January","February","March","April","May","June","July","August","September","October","November","December"];return t=e.position.isCurrent?"Present":e.position.end?a[e.position.end.month-1]+" "+e.position.end.year:"Unknown",s.a.createElement("div",{className:"position-card shadow-box"},s.a.createElement("div",{className:"position-card__org-title"},s.a.createElement("b",null,e.position.org&&s.a.createElement("span",null,e.position.org),e.position.org&&e.position.title&&s.a.createElement("span",null," | "),e.position.title&&s.a.createElement("span",null,e.position.title))),s.a.createElement("div",{className:"position-card__date"},s.a.createElement("i",null,e.position.start&&s.a.createElement("span",null,a[e.position.start.month-1]," ",e.position.start.year," \u2013")," ",t)),e.position.summary&&s.a.createElement("span",null,s.a.createElement("hr",null),s.a.createElement("div",{className:"position-card__summary"},e.position.summary)))},L=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={positions:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({positions:this.props.positions})}},{key:"render",value:function(){var e="";if(this.props.positions){var t=[];this.state.positions&&this.state.positions.forEach((function(e){return t.push(e)})),e=s.a.createElement("div",{className:"positions section"},s.a.createElement("div",{className:"section-header"},"Experience"),t.map((function(e){return s.a.createElement("div",{key:e.org+"_"+e.title+"_"+e.start.timestamp},s.a.createElement(D,{position:e}))})))}return e}}]),a}(n.Component),F=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.skills?s.a.createElement("div",{className:"section"},s.a.createElement("div",{className:"section-header"},"Skills"),s.a.createElement("div",{className:"shadow-box"},this.props.skills)):""}}]),a}(n.Component);var R=function(){var e=Object(S.f)().id,t=Object(n.useState)({resume:{}}),a=Object(k.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(!1),l=Object(k.a)(i,2),c=l[0],m=l[1],d=Object(n.useState)(!1),h=Object(k.a)(d,2),p=h[0],f=h[1];return Object(n.useEffect)((function(){(function(){var t=Object(j.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(u+"/resume/"+e,{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(e){return e.json()})).then((function(e){console.log(e),o(e),f(!0),m(!1)})).catch((function(e){return m(!0)}))}),[]),s.a.createElement("div",{className:"resume-display view"},s.a.createElement("div",{className:"name"},p&&r.names[0]),c?"This user does not have an uploaded resume.":s.a.createElement("div",{className:"section"},p?s.a.createElement(C,{expSummary:r.summary.experience}):s.a.createElement("div",{className:"center-text"},"Loading...")),p&&s.a.createElement(P,{links:r.links,emails:r.emails,phones:r.phones}),p&&s.a.createElement(T,{schools:r.schools}),p&&s.a.createElement(L,{positions:r.positions}),p&&s.a.createElement(F,{skills:r.summary.skills}))},J=a(24),U=a(14),A=a(10),M=(a(27),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"delete-modal-container"},s.a.createElement("div",{className:"grayout"}),s.a.createElement("div",{className:"delete-modal shadow-box"},s.a.createElement("div",{className:"delete-prompt"},"Are you sure you want to delete your account? Your account cannot be recovered once it's deleted."),s.a.createElement("div",{className:"delete-buttons"},s.a.createElement("button",{className:"custom-button",onClick:this.props.closeDelete},"Cancel"),s.a.createElement("button",{className:"custom-button delete-button",onClick:this.props.delete},"Delete"))))}}]),a}(n.Component)),I=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeUsername=function(e){n.setState({username:e.target.value})},n.changePassword=function(e){n.setState({password:e.target.value})},n.changeFirstName=function(e){n.setState({firstname:e.target.value})},n.changeLastName=function(e){n.setState({lastname:e.target.value})},n.changeEmail=function(e){n.setState({email:e.target.value})},n.update=function(e){n.setState({updating:!0}),p(u+"/profile",{method:"POST",body:JSON.stringify({username:n.state.username,password:n.state.password,firstname:n.state.firstname,lastname:n.state.lastname,email:n.state.email})}).then((function(e){console.log(e),n.setState({updating:!1})})).catch((function(e){return console.log(e)}))},n.delete=function(e){p(u+"/profile",{method:"DELETE"}).then((function(e){return f()})),n.setState({deleting:!1})},n.state={loaded:!1,username:"",password:"",firstname:"",lastname:"",email:"",parsedresume:null,id:0,updating:!1,deleting:!1},n.openDelete=n.openDelete.bind(Object(U.a)(n)),n.closeDelete=n.closeDelete.bind(Object(U.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;p(u+"/profile",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState(Object(J.a)(Object(J.a)({},t),{},{loaded:!0}))}))}},{key:"openDelete",value:function(){this.setState({deleting:!0})}},{key:"closeDelete",value:function(){this.setState({deleting:!1})}},{key:"render",value:function(){return s.a.createElement("div",{className:"profile view"},s.a.createElement("h1",null,"Profile"),this.state.parsedresume?s.a.createElement("div",null,"Check out your generated personal"," ",s.a.createElement(A.b,{to:"/resume/".concat(this.state.id)},"website"),"!"):s.a.createElement("div",null,"Please upload your resume ",s.a.createElement(A.b,{to:"/"},"here"),"."),s.a.createElement("div",{className:"edit-container"},"Edit your information here.",s.a.createElement("div",{className:"profile__edit-info shadow-box"},s.a.createElement("div",{className:"edit-info__field"},s.a.createElement("label",{htmlFor:"firstname"},"First Name"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"firstname",value:this.state.firstname,onChange:this.changeFirstName})),s.a.createElement("div",{className:"edit-info__field"},s.a.createElement("label",{htmlFor:"lastname"},"Last Name"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"lastname",value:this.state.lastname,onChange:this.changeLastName})),s.a.createElement("div",{className:"edit-info__field"},s.a.createElement("label",{htmlFor:"username"},"User Name"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"username",value:this.state.username,onChange:this.changeUsername})),s.a.createElement("div",{className:"edit-info__field"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"email",value:this.state.password,onChange:this.changePassword})),s.a.createElement("div",{className:"edit-info__field"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("br",null),s.a.createElement("input",{className:"edit-info__input",type:"string",name:"email",value:this.state.email,onChange:this.changeEmail})),s.a.createElement("button",{className:"edit-info__button custom-button",type:"submit",onClick:this.update},this.state.updating?"Updating...":"Update"))),s.a.createElement("button",{className:"delete-button custom-button",onClick:this.openDelete},"Delete Account"),this.state.deleting&&s.a.createElement(M,{closeDelete:this.closeDelete,delete:this.delete}))}}]),a}(n.Component);a(49);b.b.add(v.a);var W=null,G=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeSearch=function(e){if(!(e.target.value.length<=0)){var t=e.target.value;n.setState({query:t});clearTimeout(W),W=setTimeout((function(){p(u+"/autocomplete/"+t).then((function(e){return e.json()})).then((function(e){n.setState(e)}))}),250)}},n.state={query:"",users:[]},n}return Object(l.a)(a,[{key:"goToRandom",value:function(){fetch("".concat(u,"/random")).then((function(e){return e.json()})).then((function(e){return window.location.replace(d+"resume/".concat(e.id))}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"search view"},s.a.createElement("div",{className:"shadow-box search-container"},s.a.createElement("h1",null,"Search"),s.a.createElement("p",null,"Search for users by first or last name, or take a look at a random user's resume!"),s.a.createElement("div",{className:"search-or-random"},s.a.createElement("div",{className:"search-bar"},s.a.createElement(g.a,{icon:"search"}),s.a.createElement("input",{className:"search-box",type:"string",onChange:this.changeSearch})),s.a.createElement("button",{className:"custom-button",onClick:this.goToRandom},"Random Resume!")),this.state.users&&this.state.users.length>0?s.a.createElement("ul",null,this.state.users.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(A.b,{to:"/resume/".concat(e.id)},"".concat(e.firstname," ").concat(e.lastname)))}))):s.a.createElement("p",null,""!==this.state.query?"No users with names containing your query.":"")))}}]),a}(n.Component);a(50);var q=function(){return s.a.createElement(A.a,null,s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{className:"navbar__buttons"},s.a.createElement(A.b,{className:"navbar__item",to:"/"},"Home"),s.a.createElement(A.b,{className:"navbar__item",to:"/search"},"Search"),h&&s.a.createElement(s.a.Fragment,null,s.a.createElement(A.b,{className:"navbar__item",to:"/profile"},"Profile"),s.a.createElement("a",{className:"navbar__item",onClick:f},"Log Out")))),s.a.createElement(S.c,null,s.a.createElement(S.a,{path:"/resume/:id"},s.a.createElement(R,null)),s.a.createElement(S.a,{path:"/profile"},s.a.createElement(I,null)),s.a.createElement(S.a,{path:"/Search"},s.a.createElement(G,null)),s.a.createElement(S.a,{path:"/"},s.a.createElement(_,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.24ea9f25.chunk.js.map